<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machinery Analysis</title>
    <link rel="stylesheet" href="machinery-analysis.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body>
    <div class="main-container" x-data="machineryAnalysis()">
        <header>
            <h1>Machinery Analysis</h1>
        </header>

        <!-- Section to add new machinery -->
        <section class="form-section">
            <h2>Add New Machinery</h2>

            <!-- Organisation -->
            <div class="form-group">
                <label for="organisation-name">Organisation:</label>
                <input type="text" id="organisation-name" x-model="organisation" placeholder="Enter organisation name" required>
            </div>

            <!-- Machinery Registration Number -->
            <div class="form-group">
                <label for="machinery-reg_number">Machinery Registration Number:</label>
                <input type="text" id="machinery-reg_number" x-model="reg_number" placeholder="Enter machinery registration number" required>
            </div>

            <!-- Machinery Type -->
            <div class="form-group">
                <label for="machinery-type">Machinery Type:</label>
                <select id="machinery-type" x-model="condition" required>
                    <option value="" disabled>Select machinery type</option>
                    <option value="Tractor">Tractor</option>
                    <option value="Truck">Truck</option>
                    <option value="Harvester">Harvester</option>
                    <option value="Sprayer">Sprayer</option>
                    <option value="Plow">Plow</option>
                    <option value="Fertilizer">Fertilizer</option>
                </select>
            </div>

            <!-- Issue Description -->
            <div class="form-group">
                <label for="machinery-issue">Issue Description:</label>
                <textarea id="machinery-issue" x-model="issue" placeholder="Describe the issue" required></textarea>
            </div>

            <!-- Add Button -->
            <button @click="addMachinery()">Add Machinery</button>
        </section>

        <!-- Table to display machinery data -->
        <section class="table-section">
            <h2>Machinery List</h2>
            <table>
                <thead>
                    <tr>
                        <th>Organisation</th>
                        <th>Registration Number</th>
                        <th>Type</th>
                        <th>Issue</th>
                    </tr>
                </thead>
                <tbody>
                    <template x-for="(machinery, index) in machineryList" :key="index">
                        <tr>
                            <td x-text="machinery.organisation"></td>
                            <td x-text="machinery.reg_number"></td>
                            <td x-text="machinery.condition"></td>
                            <td x-text="machinery.issue"></td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </section>
        <div class="actions">
            <button @click="goBack()">Back</button>
        </div>
    </div>
    <script>
        function machineryAnalysis() {
            return {
                machineryList: [],
                organisation: '',
                reg_number: '',
                condition: '',
                issue: '',
                addMachinery() {
                    this.machineryList.push({
                        organisation: this.organisation,
                        reg_number: this.reg_number,
                        condition: this.condition,
                        issue: this.issue
                    });
                    this.organisation = '';
                    this.reg_number = '';
                    this.condition = '';
                    this.issue = '';
                },
                goBack() {
                    window.location.href = 'index.html';
                }
            };
        }
    </script>
</body>
</html>
